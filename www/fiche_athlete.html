<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="css/bootstrap.min.css" media="screen, projection"
	rel="stylesheet" type="text/css" />
<!-- <link href="css/bootstrap-theme.css" media="screen, projection" rel="stylesheet" type="text/css" /> -->
<link href="css/dataTables.bootstrap.min.css" media="screen, projection"
	rel="stylesheet" type="text/css" />


<script src="js/jquery-1.12.3.js" type="text/javascript"></script>
<script src="js/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="js/dataTables.bootstrap.min.js"></script>
<script src="js/bootstrap.min.js" type="text/javascript"></script>

</head>


<body>


	<div class="content">

		<div class="col-sm-2"></div>


		<div class="col-sm-8">


			<div id="menu"></div>

<pre>
SELECT annee,max(e_800), max(e_1500), max(e_3000)
FROM
(
	SELECT annee, 
		CASE idEpreuve
			WHEN 800 THEN points
			WHEN 1500  THEN 0
			WHEN 3000  THEN 0  
		END as e_800,
		
		CASE idEpreuve
			WHEN 800 THEN 0
			WHEN 1500  THEN points
			WHEN 3000  THEN 0
		END as e_1500,
	
		CASE idEpreuve
			WHEN 800 THEN 0
			WHEN 1500 THEN 0
			WHEN 3000  THEN points
		END as e_3000
	
	FROM ligne l
	WHERE l.idEpreuve IN (800, 1500, 3000) AND annee > 2005

) tmp
GROUP by annee
</pre>

Note : on n'aurait pu faire plus simple si MySql avait implémenté la fonction d'<a href="">inversion de matrice </a>

>>>>

<pre>
2010    744    882
2011    911    933
2012    984    1090
2013	806    703
2014	1547   0
2015	1343   1297
2016	1528   683
</pre>
		</div>
	</div>



	<script src="js/menu.js" type="text/javascript"></script>
	<script>
		document.getElementById("recherche").setAttribute("class", "active");
	</script>
</body>
</html>