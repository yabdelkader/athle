<!DOCTYPE html>
<html lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">


<link href="css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/dataTables.bootstrap.min.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/athle.css" media="screen" rel="stylesheet" type="text/css" />


<script src="js/jquery-1.12.3.js" type="text/javascript"></script>
<script src="js/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="js/dataTables.bootstrap.min.js"></script>
<script src="js/bootstrap.min.js" type="text/javascript"></script>

<style type="text/css">
pre {
	width : 700px;
}

fieldset.scheduler-border {
    border: 1px groove #ddd !important;
    padding: 0 1.4em 1.4em 1.4em !important;
    margin: 0 0 1.5em 0 !important;
    -webkit-box-shadow:  0px 0px 0px 0px #000;
            box-shadow:  0px 0px 0px 0px #000;
}
legend.scheduler-border {
    width:inherit; /* Or auto */
    padding:0 10px; /* To give a bit of padding on the left and right */
    border-bottom:none;
}
</style>

<title>Records par épreuve</title>
</head>

<body>
	<article class="content">
		<div class="col-sm-offset-2 col-sm-8">
			<nav id="menu"></nav>

			<h1>Records nationaux par épreuve</h1>

			
<fieldset class="scheduler-border">
    <legend class="scheduler-border">Sélection</legend>
  
<form class="form-horizontal"  action="records_pays_epreuve.php" method="post">

			
<div class="form-group">

	<label class="control-label col-sm-2" >Sexe</label> 
	<div class="col-sm-10">
		<label class="radio-inline"><input type="radio" name="sexe" value="0" required="required" selected="selected">Masculin</label>
		<label class="radio-inline"><input type="radio" name="sexe" value="1">Féminin</label>
	</div>

	
	<label class="control-label col-sm-2" >Epreuve</label>

	<div class="col-sm-2">
		<label class="radio-inline"><input type="radio" name="epreuve" value="100">100</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="200">200</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="400">400</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="800" required="required">800</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="1500">1500</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="3000">3000</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="5000">5000</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="10000">10000</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="Marathon">Marathon</label>
	</div>
	<div class="col-sm-2">
		<label class="radio-inline"><input type="radio" name="epreuve" value="100H">100H</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="110H">110H</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="400H">400H</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="3000 steeple">3000 steeple</label>
	</div>
	<div class="col-sm-2">
		<label class="radio-inline"><input type="radio" name="epreuve" value="Disque">Disque</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="Javelot">Javelot</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="Marteau">Marteau</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="Poids">Poids</label>
	</div>
	<div class="col-sm-2">
		<label class="radio-inline"><input type="radio" name="epreuve" value="Hauteur">Hauteur</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="Longueur">Longueur</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="Perche">Perche</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="Triple">Triple</label>
	</div>
	<div class="col-sm-2">
		<label class="radio-inline"><input type="radio" name="epreuve" value="Heptathlon">Heptathlon</label><br/>
		<label class="radio-inline"><input type="radio" name="epreuve" value="Decathlon">Decathlon</label>
	</div>	
</div>


</form>
	
</fieldset>



			
<div class="row">
	<div class="col-md-12">

	<div class="panel panel-default pull-right">
		<div class="panel-heading" role="tab" id="headingOne">
			<h4 class="panel-title"><a data-toggle="collapse" href="#collapse1">Notes</a></h4>
		</div>
		<div id="collapse1" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
			<div class="panel-body">

...
			</div>

		</div> <!-- enf collapse -->

		</div>
	</div>
</div>
			
<!--
<table class="table table-striped table-bordered table-hover table-condensed" id="table_records">
	<thead>
		<tr>
			<th>Rang</th><th>Perf</th><th>Pays</th><th>Athlète</th><th>Année</th></tr>
	</thead>
	<tbody>
<tr><td>1</td><td>3.50.07</td><td>Éthiopie</td><td>Genzebe Dibaba</td><td>2015</td></tr>
<tr><td>2</td><td>3.50.46</td><td>Chine</td><td>Qu Yunxia</td><td>1993</td></tr>
<tr><td>3</td><td>3.52.47</td><td>Russie</td><td>Tatyana Kazankina</td><td>1980</td></tr>
<tr><td>4</td><td>3.53.96</td><td>Roumanie</td><td>Paula Ivan</td><td>1988</td></tr>
<tr><td>5</td><td>3.55.30</td><td>Algérie</td><td>Hassiba Boulmerka</td><td>1992</td></tr>
<tr><td>6</td><td>3.56.05</td><td>Pays-Bas</td><td>Sifan Hassan</td><td>2015</td></tr>
<tr><td>7</td><td>3.56.14</td><td>Ouzbékistan</td><td>Zamira Zaytseva</td><td>1982</td></tr>
<tr><td>8</td><td>3.56.18</td><td>Bahreïn</td><td>Maryam Yusuf Jamal</td><td>2006</td></tr>
	</tbody>
			</table>
  -->
	<table class="table table-striped table-bordered" id="table_records"></table>

		</div>

	</article>

	<script src="js/menu.js" type="text/javascript"></script>
	
	
	<script type="text/javascript">
	
// 	function createTableHead(){
		
// 		var records = { data : [
		
// 		]};
		
// 		var table = $('#table_ecarts').DataTable({
// 			data : records.data,
// 	        "paging": false, 
// 	        "info": false,         
// 		  columns : [
// 		    { data: 'e', title: 'Epreuve' },
// 		    { data: 'nom1', title: 'Nom' },
// 		    { data: 'perf1', title: 'Performance' },    
// 		    { data: 'nom2', title: 'Nom' },
// 		    { data: 'perf2', title: 'Performance' },    
// 		    { data: 'ecart', title: 'Pourcentage' },
// 	      ]  
// 		});

// 		selection();
// 	}

    function selection() {
        
    	

    	var sexe = $("input[name='sexe']:checked").val();
    	var epreuve = $("input[name='epreuve']:checked").val();

    	$("#sqlSexe").text(sexe);
    	$("#sqlEpreuve").text(epreuve);
    	
       	var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {

            	var reponseGetRecords = this.responseText;
                
	            var jsonData = JSON.parse(reponseGetRecords);
	            // for (var i = 0; i < jsonData.records.length; i++) {
	            // 	pays = jsonData.records[i];
	            //}
	            charge(jsonData.records);

            }
        };
        xmlhttp.open("GET", "getRecordsEpreuveSexe.php?epreuve=" + epreuve + "&seye=" + sexe, true);
        xmlhttp.send();
    	
    }
    
    function charge(records){
        
    	var laTable = $("#table_records").DataTable();

    	laTable.clear();
    	
    	for (var i = 0; i < records.length; i++) {
    		laTable.row.add({rang: records[i].rang, perf: records[i].perf, pays: records[i].pays, athlete: records[i].athlete, annee: records[i].annee}).draw();
   			// laTable.row.add({e : records[i], nom1 : sel1.nom, perf1 :  sel1.perf, nom2 : sel2.nom,  perf2 : sel2.perf, ecart : compute}).draw();
   			// laTable.row.add({rang: " + records[i].rang + ", perf: "20.10", pays: "Etats-Unis", athlete: "Wallace Spearmon", annee: "2005"}).draw();
   			// console.log(records[i]);
    	}
    }
	$('.dropdown-toggle').dropdown();
	
	var records = { data : [
		
	]};
		
	var table = $('#table_records').DataTable({
			data : records.data,
	        "paging": false, 
	        "info": false,         
		  columns : [
		    { data: 'rang', title: 'Rang' },
		    { data: 'perf', title: 'Perf' },
		    { data: 'pays', title: 'Pays' },    
		    { data: 'athlete', title: 'Athlète' },
		    { data: 'annee', title: 'Année' }
	      ]  
		});

	
/* 	$(document).ready(function() {
		$('#example').DataTable(
				{
			        "order": [[ 0, "asc" ]],
			        paging: false
				
			    }
		);
 });
 */
	

	var pays = {'record' : []};

	// createTableHead();

	var elts = document.querySelectorAll("input");
	for (var i = 0; i < elts.length; i++){
		
		elts[i].addEventListener("change", selection, true);
	}		
	

	</script>
	
	<script>document.getElementById("international").setAttribute("class", "active");</script>
</body>
</html>