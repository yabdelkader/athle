<!DOCTYPE html>
<html lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!--<link href="politique.css" media="screen" rel="stylesheet" type="text/css" />-->
<title>Records nationaux</title>
<link href="css/bootstrap.min.css" media="screen, projection" rel="stylesheet" type="text/css" />

<style type="text/css">
th, td {
padding:5px
}

</style>

</head>
<body>
	<div class="content">

		<div class="col-sm-2"></div>
		<div class="col-sm-8">

			<nav class="navbar" role="navigation" id="menu"></nav>

		
<h2>Pages Wikipedia des records nationaux &rarr; MySQL</h2>
<p>
Initialement, importation des pages françaises <a href="https://fr.wikipedia.org/wiki/Cat%C3%A9gorie:Record_national_d%27athl%C3%A9tisme">https://fr.wikipedia.org/wiki/Catégorie:Record_national_d'athlétisme</a>.
</p>
<p>
Dans un second temps, importation des pages <a href="https://en.wikipedia.org/wiki/National_records_in_athletics">https://en.wikipedia.org/wiki/National_records_in_athletics</a>,
bien plus complètes comme on aurait pu s'en douter...  
</p>

<ul><li>itération sur chaque URL
<li>itération  sur chaque ligne. On ignore si on n'est pas au sein du <code>tr</code> d'une <code>table</code>.
<li>remplacement toute les balises HTML par "_" 
<br/><br/><pre style="width:400px">
 String patternCleanHtml = "&lt;[^>]*>";
 Pattern p1 = Pattern.compile(patternCleanHtml);
 Matcher m1 = p1.matcher(str);
 String strPlainText = m1.replaceAll("_");
</pre>

<li>pour chaque valeur de cellule, détection si <code>isEpreuve() isNom() isPerf() isDate()</code> (l'ordre des colonnes est variable selon les pays)</li>
<li>INSERT INTO MySQL</li>
</ul>


<h2>Ancienneté des records</h2>
<pre>SELECT epreuve, AVG(annee) FROM record GROUP BY epreuve</pre>




</div>
</article>
	<script src="js/menu.js" type="text/javascript"></script>
	<script type="text/javascript" class="init">
		$(document).ready(function() {
			$('#example').DataTable();
		});

		$('.dropdown-toggle').dropdown();

	</script>
	<script>document.getElementById("records").setAttribute("class", "active");</script>
</body>
</html>